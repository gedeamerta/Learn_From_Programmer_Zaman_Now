<!-- Async digunakan untuk menandakan bahwa function tersebut async dan mengembalikan promis -->
<!-- Await digunakan untuk value hasil dari Promise -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
</head>
<body>
    <h1>Belajar Async Await</h1>

    <script>

        // Promise<String>
            function getNamePromise() {
                return new Promise((resolve, reject) => {
                    resolve("Gede Amerta Example Promise")
                })
            }

        // Async 
            async function getNameAsync() {
                return "Gede Amerta Example Async"
            }
        
            getNamePromise()
            .then((name) => console.info(name));

            getNameAsync()
            .then((name) => console.info(name));


        function getProduct() {
            const request = new Request("./mobile.json", {
                method: "GET"
            })

            const response = fetch(request)

            return response.then((response) => response.json())
        }

        function getProductNamePromise() {
            return new Promise((resolve, reject) => {
                getProduct()
                .then((product) => resolve(product.listOfMobile))
                .catch((error) => reject(error))
            })
        }

        async function getProductNameAsync() {
            try {
                const product = await getProduct();
                return product.listOfMobile
            } catch (error) {
                return "Product not found"
            }

        }

        getProductNamePromise()
        .then((productName) => console.info(productName[0]))

        getProductNameAsync()
        .then((productName) => console.info(productName[0]))

        // Cara Handling Error dalam Asynchronus menggunakan Try and Catch

        async function handleError() {
            try {
                
            } catch (error) {
                
            }
        }

    </script>
</body>
</html>